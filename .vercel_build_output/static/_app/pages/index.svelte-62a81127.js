import{S as $,i as ee,s as te,e as y,t as R,k as j,l as ie,c as A,a as U,g as E,d as c,n as X,f as w,E as _,h as ye,J as Le,b as P,K as C,L as H,M as G,I as Y,N as Se,A as de,W as Ae,O as Pe,P as we,Q as Oe,R as Te,T as re,U as pe,V as ne,X as K,Y as Ne,Z as Ve,u as Q,w as Ie,x,r as ke,_ as se,j as le,m as oe,o as ae,$ as ue,v as be}from"../chunks/vendor-2f341d21.js";function De(s,t,n){const r=s.slice();return r[10]=t[n],r}function Re(s){let t,n,r,i,l=Array.from(s[1]),o=[];for(let e=0;e<l.length;e+=1)o[e]=Ee(De(s,l,e));return{c(){t=y("h2"),n=R("Selected files:"),r=j();for(let e=0;e<o.length;e+=1)o[e].c();i=ie()},l(e){t=A(e,"H2",{});var a=U(t);n=E(a,"Selected files:"),a.forEach(c),r=X(e);for(let u=0;u<o.length;u+=1)o[u].l(e);i=ie()},m(e,a){w(e,t,a),_(t,n),w(e,r,a);for(let u=0;u<o.length;u+=1)o[u].m(e,a);w(e,i,a)},p(e,a){if(a&2){l=Array.from(e[1]);let u;for(u=0;u<l.length;u+=1){const m=De(e,l,u);o[u]?o[u].p(m,a):(o[u]=Ee(m),o[u].c(),o[u].m(i.parentNode,i))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}},d(e){e&&c(t),e&&c(r),Le(o,e),e&&c(i)}}}function Ee(s){let t,n=s[10].name+"",r,i,l=s[10].size+"",o,e;return{c(){t=y("p"),r=R(n),i=R(" ("),o=R(l),e=R(" bytes)")},l(a){t=A(a,"P",{});var u=U(t);r=E(u,n),i=E(u," ("),o=E(u,l),e=E(u," bytes)"),u.forEach(c)},m(a,u){w(a,t,u),_(t,r),_(t,i),_(t,o),_(t,e)},p(a,u){u&2&&n!==(n=a[10].name+"")&&ye(r,n),u&2&&l!==(l=a[10].size+"")&&ye(o,l)},d(a){a&&c(t)}}}function Me(s){let t,n,r,i,l,o,e,a,u,m,v,h,g,d,S,V,I,O,z,f,b,L,T,N,M,J,F,Z,W,fe,ve,he,q,ce,_e,me,ge,B=s[1]&&Re(s);return{c(){t=y("label"),n=R("Upload STL File:"),r=j(),i=y("input"),l=j(),B&&B.c(),o=j(),e=y("form"),a=R(`Observer Distance
	`),u=y("input"),m=R(`
	AU`),v=y("br"),h=R(`
	Observer Period
	`),g=y("input"),d=R(`
	years`),S=y("br"),V=R(`
	Observee Distance
	`),I=y("input"),O=R(`
	AU`),z=y("br"),f=R(`
	Observee Period
	`),b=y("input"),L=R(`
	years`),T=y("br"),N=R(`
	Rotational Velocity
	`),M=y("input"),J=R(`
	deg/earth day`),F=y("br"),Z=R(`
	Simulation xbound:
	`),W=y("input"),fe=R(`
	pixels`),ve=y("br"),he=R(`
	Simulation ybound
	`),q=y("input"),ce=R(`
	pixels`),_e=y("br"),this.h()},l(p){t=A(p,"LABEL",{for:!0});var k=U(t);n=E(k,"Upload STL File:"),k.forEach(c),r=X(p),i=A(p,"INPUT",{accept:!0,id:!0,name:!0,type:!0}),l=X(p),B&&B.l(p),o=X(p),e=A(p,"FORM",{});var D=U(e);a=E(D,`Observer Distance
	`),u=A(D,"INPUT",{type:!0,min:!0,max:!0}),m=E(D,`
	AU`),v=A(D,"BR",{}),h=E(D,`
	Observer Period
	`),g=A(D,"INPUT",{type:!0,min:!0,max:!0}),d=E(D,`
	years`),S=A(D,"BR",{}),V=E(D,`
	Observee Distance
	`),I=A(D,"INPUT",{type:!0,min:!0,max:!0}),O=E(D,`
	AU`),z=A(D,"BR",{}),f=E(D,`
	Observee Period
	`),b=A(D,"INPUT",{type:!0,min:!0,max:!0}),L=E(D,`
	years`),T=A(D,"BR",{}),N=E(D,`
	Rotational Velocity
	`),M=A(D,"INPUT",{type:!0,min:!0,max:!0}),J=E(D,`
	deg/earth day`),F=A(D,"BR",{}),Z=E(D,`
	Simulation xbound:
	`),W=A(D,"INPUT",{type:!0,min:!0,max:!0}),fe=E(D,`
	pixels`),ve=A(D,"BR",{}),he=E(D,`
	Simulation ybound
	`),q=A(D,"INPUT",{type:!0,min:!0,max:!0}),ce=E(D,`
	pixels`),_e=A(D,"BR",{}),D.forEach(c),this.h()},h(){P(t,"for","avatar"),P(i,"accept",".stl"),P(i,"id","avatar"),P(i,"name","avatar"),P(i,"type","file"),P(u,"type","number"),P(u,"min","0.1"),P(u,"max","Number.MAX_SAFE_INTEGER"),P(g,"type","number"),P(g,"min","0.1"),P(g,"max","Number.MAX_SAFE_INTEGER"),P(I,"type","number"),P(I,"min","0.1"),P(I,"max","Number.MAX_SAFE_INTEGER"),P(b,"type","number"),P(b,"min","0.1"),P(b,"max","Number.MAX_SAFE_INTEGER"),P(M,"type","number"),P(M,"min","0.01"),P(M,"max","Number.MAX_SAFE_INTEGER"),P(W,"type","number"),P(W,"min","200"),P(W,"max","2000"),P(q,"type","number"),P(q,"min","200"),P(q,"max","2000")},m(p,k){w(p,t,k),_(t,n),w(p,r,k),w(p,i,k),w(p,l,k),B&&B.m(p,k),w(p,o,k),w(p,e,k),_(e,a),_(e,u),C(u,s[0].observer_distance),_(e,m),_(e,v),_(e,h),_(e,g),C(g,s[0].observer_period),_(e,d),_(e,S),_(e,V),_(e,I),C(I,s[0].observee_distance),_(e,O),_(e,z),_(e,f),_(e,b),C(b,s[0].observee_period),_(e,L),_(e,T),_(e,N),_(e,M),C(M,s[0].vr),_(e,J),_(e,F),_(e,Z),_(e,W),C(W,s[0].xbound),_(e,fe),_(e,ve),_(e,he),_(e,q),C(q,s[0].ybound),_(e,ce),_(e,_e),me||(ge=[H(i,"change",s[2]),H(u,"input",s[3]),H(g,"input",s[4]),H(I,"input",s[5]),H(b,"input",s[6]),H(M,"input",s[7]),H(W,"input",s[8]),H(q,"input",s[9])],me=!0)},p(p,[k]){p[1]?B?B.p(p,k):(B=Re(p),B.c(),B.m(o.parentNode,o)):B&&(B.d(1),B=null),k&1&&G(u.value)!==p[0].observer_distance&&C(u,p[0].observer_distance),k&1&&G(g.value)!==p[0].observer_period&&C(g,p[0].observer_period),k&1&&G(I.value)!==p[0].observee_distance&&C(I,p[0].observee_distance),k&1&&G(b.value)!==p[0].observee_period&&C(b,p[0].observee_period),k&1&&G(M.value)!==p[0].vr&&C(M,p[0].vr),k&1&&G(W.value)!==p[0].xbound&&C(W,p[0].xbound),k&1&&G(q.value)!==p[0].ybound&&C(q,p[0].ybound)},i:Y,o:Y,d(p){p&&c(t),p&&c(r),p&&c(i),p&&c(l),B&&B.d(p),p&&c(o),p&&c(e),me=!1,Se(ge)}}}function ze(s,t,n){let r,{settings:i={observer_distance:1,observer_period:1,observee_distance:2,observee_period:.5,vr:360,xbound:500,ybound:500,filename:""}}=t;function l(){r=this.files,n(1,r)}function o(){i.observer_distance=G(this.value),n(0,i),n(1,r)}function e(){i.observer_period=G(this.value),n(0,i),n(1,r)}function a(){i.observee_distance=G(this.value),n(0,i),n(1,r)}function u(){i.observee_period=G(this.value),n(0,i),n(1,r)}function m(){i.vr=G(this.value),n(0,i),n(1,r)}function v(){i.xbound=G(this.value),n(0,i),n(1,r)}function h(){i.ybound=G(this.value),n(0,i),n(1,r)}return s.$$set=g=>{"settings"in g&&n(0,i=g.settings)},s.$$.update=()=>{if(s.$$.dirty&2&&r){console.log(r);for(const g of r)alert(`${g.name}: ${g.size} bytes`),n(0,i.filename=g.name,i)}},[i,r,l,o,e,a,u,m,v,h]}class Ue extends ${constructor(t){super();ee(this,t,ze,Me,te,{settings:0})}}function Be(s){let t,n,r,i;return{c(){t=R(`View of the asteroid (observee) from earth (observer)
`),n=y("br"),r=j(),i=y("canvas")},l(l){t=E(l,`View of the asteroid (observee) from earth (observer)
`),n=A(l,"BR",{}),r=X(l),i=A(l,"CANVAS",{}),U(i).forEach(c)},m(l,o){w(l,t,o),w(l,n,o),w(l,r,o),w(l,i,o),s[10](i)},p:Y,i:Y,o:Y,d(l){l&&c(t),l&&c(n),l&&c(r),l&&c(i),s[10](null)}}}function Ce(s,t){return s+t}function Ge(s,t,n){let{width:r=500}=t,{height:i=500}=t,{observerDistance:l}=t,{observerOrbitalPeriod:o}=t,{observeeDistance:e}=t,{observeeOrbitalPeriod:a}=t,{observeeRotationVelocity:u}=t,m=0,v=1/o/100,h=l*20,g=0,d=1/a/100,S=e*20,V,I=new Uint8Array(r*i*4),{lightLevelArray:O=[]}=t,{lightLevel:z=0}=t;de(()=>{const b=new Ae({antialias:!0,canvas:V});b.setSize(r,i);const L=new Pe,T=new we(16777215,1,1/0),N=new Oe(75,r/i,1,1e3);N.position.z=h,N.add(T),L.add(N);const M=new Te(r,i),J=b.getContext(),F=new re(new pe,new ne({color:7829367}));F.scale.x=1,F.scale.y=1,F.scale.z=1,L.add(F);function Z(){requestAnimationFrame(Z),m+=v,N.position.x=h*Math.cos(m),N.position.z=-1*h*Math.sin(m),g+=d,F.position.x=S*Math.cos(g),F.position.z=-1*S*Math.sin(g),F.rotateY(u/100*(Math.PI/180)),N.lookAt(F.position),b.render(L,N,M),J.readPixels(0,0,r,i,J.RGBA,J.UNSIGNED_BYTE,I),n(1,z=I.reduce(Ce)-r*i*255),O.push(z)}Z()});function f(b){K[b?"unshift":"push"](()=>{V=b,n(0,V)})}return s.$$set=b=>{"width"in b&&n(2,r=b.width),"height"in b&&n(3,i=b.height),"observerDistance"in b&&n(4,l=b.observerDistance),"observerOrbitalPeriod"in b&&n(5,o=b.observerOrbitalPeriod),"observeeDistance"in b&&n(6,e=b.observeeDistance),"observeeOrbitalPeriod"in b&&n(7,a=b.observeeOrbitalPeriod),"observeeRotationVelocity"in b&&n(8,u=b.observeeRotationVelocity),"lightLevelArray"in b&&n(9,O=b.lightLevelArray),"lightLevel"in b&&n(1,z=b.lightLevel)},[V,z,r,i,l,o,e,a,u,O,f]}class Fe extends ${constructor(t){super();ee(this,t,Ge,Be,te,{width:2,height:3,observerDistance:4,observerOrbitalPeriod:5,observeeDistance:6,observeeOrbitalPeriod:7,observeeRotationVelocity:8,lightLevelArray:9,lightLevel:1})}}function je(s){let t,n,r,i;return{c(){t=R(`Position(s) of the observer and observee
`),n=y("br"),r=j(),i=y("canvas")},l(l){t=E(l,`Position(s) of the observer and observee
`),n=A(l,"BR",{}),r=X(l),i=A(l,"CANVAS",{}),U(i).forEach(c)},m(l,o){w(l,t,o),w(l,n,o),w(l,r,o),w(l,i,o),s[8](i)},p:Y,i:Y,o:Y,d(l){l&&c(t),l&&c(n),l&&c(r),l&&c(i),s[8](null)}}}function Xe(s,t,n){let{width:r=500}=t,{height:i=500}=t,{observerDistance:l}=t,{observerOrbitalPeriod:o}=t,{observeeDistance:e}=t,{observeeOrbitalPeriod:a}=t,{observeeRotationVelocity:u}=t,m=0,v=1/o/100,h=l*20,g=0,d=1/a/100,S=e*20,V;de(()=>{const O=new Ae({antialias:!0,canvas:V});O.setSize(r,i);const z=new Pe,f=new we(16777215,1,1/0),b=new Oe(75,r/i,1,1e3);b.position.z=75,b.add(f),z.add(b);const L=new re(new pe,new ne({color:12754432}));L.scale.x=7,L.scale.y=7,L.scale.z=7,z.add(L);const T=new re(new pe,new ne({color:255}));T.scale.x=1,T.scale.y=1,T.scale.z=1,z.add(T);const N=new re(new Ne,new ne({color:7829367}));N.scale.x=1,N.scale.y=1,N.scale.z=1,z.add(N);function M(){requestAnimationFrame(M),m+=v,T.position.x=h*Math.cos(m),T.position.y=h*Math.sin(m),g+=d,N.position.x=S*Math.cos(g),N.position.y=S*Math.sin(g),N.rotateZ(u/100*(Math.PI/180)),O.render(z,b)}M()});function I(O){K[O?"unshift":"push"](()=>{V=O,n(0,V)})}return s.$$set=O=>{"width"in O&&n(1,r=O.width),"height"in O&&n(2,i=O.height),"observerDistance"in O&&n(3,l=O.observerDistance),"observerOrbitalPeriod"in O&&n(4,o=O.observerOrbitalPeriod),"observeeDistance"in O&&n(5,e=O.observeeDistance),"observeeOrbitalPeriod"in O&&n(6,a=O.observeeOrbitalPeriod),"observeeRotationVelocity"in O&&n(7,u=O.observeeRotationVelocity)},[V,r,i,l,o,e,a,u,I]}class Ye extends ${constructor(t){super();ee(this,t,Xe,je,te,{width:1,height:2,observerDistance:3,observerOrbitalPeriod:4,observeeDistance:5,observeeOrbitalPeriod:6,observeeRotationVelocity:7})}}function We(s){let t,n,r,i,l,o,e,a,u;return{c(){t=y("button"),n=R("Reload "),r=y("b"),i=R("Light Curve"),l=R(" graph"),o=j(),e=y("canvas"),this.h()},l(m){t=A(m,"BUTTON",{});var v=U(t);n=E(v,"Reload "),r=A(v,"B",{});var h=U(r);i=E(h,"Light Curve"),h.forEach(c),l=E(v," graph"),v.forEach(c),o=X(m),e=A(m,"CANVAS",{id:!0,width:!0,height:!0}),U(e).forEach(c),this.h()},h(){P(e,"id","myChart"),P(e,"width","500"),P(e,"height","500")},m(m,v){w(m,t,v),_(t,n),_(t,r),_(r,i),_(t,l),w(m,o,v),w(m,e,v),a||(u=H(t,"click",s[0]),a=!0)},p:Y,i:Y,o:Y,d(m){m&&c(t),m&&c(o),m&&c(e),a=!1,u()}}}function qe(s,t,n){let{inputData:r=[12,19,3,5,2,3]}=t,i,l,o=a=>Array.from(Array(a).keys());de(()=>{e()});function e(){l&&l.destroy(),i=document.getElementById("myChart").getContext("2d"),l=new Ve(i,{type:"scatter",data:{labels:o(r.length),datasets:[{label:"Light Curve",data:r,backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:1}]},options:{maintainAspectRatio:!0,responsive:!1,scales:{y:{title:{display:!0,text:"observed light level (total rgb value of simulation)"}},x:{title:{display:!0,text:"time (frames)"}}}}})}return s.$$set=a=>{"inputData"in a&&n(1,r=a.inputData)},[e,r]}class He extends ${constructor(t){super();ee(this,t,qe,We,te,{inputData:1})}}function Je(s){let t,n,r,i,l,o,e,a;function u(v){s[8](v)}let m={};return s[0]!==void 0&&(m.settings=s[0]),t=new Ue({props:m}),K.push(()=>se(t,"settings",u)),{c(){le(t.$$.fragment),r=j(),i=y("button"),l=R("Run Simulation")},l(v){oe(t.$$.fragment,v),r=X(v),i=A(v,"BUTTON",{});var h=U(i);l=E(h,"Run Simulation"),h.forEach(c)},m(v,h){ae(t,v,h),w(v,r,h),w(v,i,h),_(i,l),o=!0,e||(a=H(i,"click",s[4]),e=!0)},p(v,h){const g={};!n&&h&1&&(n=!0,g.settings=v[0],ue(()=>n=!1)),t.$set(g)},i(v){o||(x(t.$$.fragment,v),o=!0)},o(v){Q(t.$$.fragment,v),o=!1},d(v){be(t,v),v&&c(r),v&&c(i),e=!1,a()}}}function Ze(s){let t,n,r,i,l,o,e,a,u,m,v,h,g,d;function S(f){s[5](f)}function V(f){s[6](f)}let I={width:s[0].xbound,height:s[0].ybound,observerDistance:s[0].observer_distance,observerOrbitalPeriod:s[0].observer_period,observeeDistance:s[0].observee_distance,observeeOrbitalPeriod:s[0].observee_period,observeeRotationVelocity:s[0].vr};s[1]!==void 0&&(I.lightLevel=s[1]),s[2]!==void 0&&(I.lightLevelArray=s[2]),r=new Fe({props:I}),K.push(()=>se(r,"lightLevel",S)),K.push(()=>se(r,"lightLevelArray",V));function O(f){s[7](f)}let z={width:s[0].xbound,height:s[0].ybound,observerDistance:s[0].observer_distance,observerOrbitalPeriod:s[0].observer_period,observeeDistance:s[0].observee_distance,observeeOrbitalPeriod:s[0].observee_period,observeeRotationVelocity:s[0].vr};return s[1]!==void 0&&(z.lightLevel=s[1]),a=new Ye({props:z}),K.push(()=>se(a,"lightLevel",O)),g=new He({props:{inputData:s[2]}}),{c(){t=y("div"),n=y("div"),le(r.$$.fragment),o=j(),e=y("div"),le(a.$$.fragment),m=j(),v=y("div"),h=y("div"),le(g.$$.fragment),this.h()},l(f){t=A(f,"DIV",{class:!0});var b=U(t);n=A(b,"DIV",{class:!0});var L=U(n);oe(r.$$.fragment,L),L.forEach(c),o=X(b),e=A(b,"DIV",{class:!0});var T=U(e);oe(a.$$.fragment,T),T.forEach(c),b.forEach(c),m=X(f),v=A(f,"DIV",{class:!0});var N=U(v);h=A(N,"DIV",{class:!0});var M=U(h);oe(g.$$.fragment,M),M.forEach(c),N.forEach(c),this.h()},h(){P(n,"class","column svelte-15y9it3"),P(e,"class","column svelte-15y9it3"),P(t,"class","row svelte-15y9it3"),P(h,"class","column svelte-15y9it3"),P(v,"class","row svelte-15y9it3")},m(f,b){w(f,t,b),_(t,n),ae(r,n,null),_(t,o),_(t,e),ae(a,e,null),w(f,m,b),w(f,v,b),_(v,h),ae(g,h,null),d=!0},p(f,b){const L={};b&1&&(L.width=f[0].xbound),b&1&&(L.height=f[0].ybound),b&1&&(L.observerDistance=f[0].observer_distance),b&1&&(L.observerOrbitalPeriod=f[0].observer_period),b&1&&(L.observeeDistance=f[0].observee_distance),b&1&&(L.observeeOrbitalPeriod=f[0].observee_period),b&1&&(L.observeeRotationVelocity=f[0].vr),!i&&b&2&&(i=!0,L.lightLevel=f[1],ue(()=>i=!1)),!l&&b&4&&(l=!0,L.lightLevelArray=f[2],ue(()=>l=!1)),r.$set(L);const T={};b&1&&(T.width=f[0].xbound),b&1&&(T.height=f[0].ybound),b&1&&(T.observerDistance=f[0].observer_distance),b&1&&(T.observerOrbitalPeriod=f[0].observer_period),b&1&&(T.observeeDistance=f[0].observee_distance),b&1&&(T.observeeOrbitalPeriod=f[0].observee_period),b&1&&(T.observeeRotationVelocity=f[0].vr),!u&&b&2&&(u=!0,T.lightLevel=f[1],ue(()=>u=!1)),a.$set(T);const N={};b&4&&(N.inputData=f[2]),g.$set(N)},i(f){d||(x(r.$$.fragment,f),x(a.$$.fragment,f),x(g.$$.fragment,f),d=!0)},o(f){Q(r.$$.fragment,f),Q(a.$$.fragment,f),Q(g.$$.fragment,f),d=!1},d(f){f&&c(t),be(r),be(a),f&&c(m),f&&c(v),be(g)}}}function Ke(s){let t,n,r,i,l,o,e,a,u,m;const v=[Ze,Je],h=[];function g(d,S){return d[3]?0:1}return e=g(s),a=h[e]=v[e](s),{c(){t=y("h1"),n=R("jo"),r=j(),i=y("h2"),l=R("The Asteroid App of Your Dreams"),o=j(),a.c(),u=ie()},l(d){t=A(d,"H1",{});var S=U(t);n=E(S,"jo"),S.forEach(c),r=X(d),i=A(d,"H2",{});var V=U(i);l=E(V,"The Asteroid App of Your Dreams"),V.forEach(c),o=X(d),a.l(d),u=ie()},m(d,S){w(d,t,S),_(t,n),w(d,r,S),w(d,i,S),_(i,l),w(d,o,S),h[e].m(d,S),w(d,u,S),m=!0},p(d,[S]){let V=e;e=g(d),e===V?h[e].p(d,S):(ke(),Q(h[V],1,1,()=>{h[V]=null}),Ie(),a=h[e],a?a.p(d,S):(a=h[e]=v[e](d),a.c()),x(a,1),a.m(u.parentNode,u))},i(d){m||(x(a),m=!0)},o(d){Q(a),m=!1},d(d){d&&c(t),d&&c(r),d&&c(i),d&&c(o),h[e].d(d),d&&c(u)}}}function Qe(s,t,n){let r,i=420.69,l,o=!1;function e(){console.log(r),n(3,o=!0)}function a(h){i=h,n(1,i)}function u(h){l=h,n(2,l)}function m(h){i=h,n(1,i)}function v(h){r=h,n(0,r)}return[r,i,l,o,e,a,u,m,v]}class $e extends ${constructor(t){super();ee(this,t,Qe,Ke,te,{})}}export{$e as default};
